## 📜 JSON(JavaScript Object Notation) 강의록: 데이터 교환의 표준

\*\*JSON (JavaScript Object Notation)\*\*은 데이터를 교환하고 저장하기 위한 **개방형 표준 파일 형식**입니다. 사람이 읽기 쉽고 기계가 파싱(분석)하기 쉬운 구조를 가지고 있어, 웹 API, 설정 파일, 데이터 전송 등 IT 전 분야에서 **가장 널리 사용되는 데이터 형식**입니다.

-----

## 1\. ✨ JSON의 정의 및 효용성

| 구분 | 설명 |
| :--- | :--- |
| **정의** | **자바스크립트 객체** 문법을 기반으로 만들어진 텍스트 기반의 데이터 형식입니다. |
| **효용성** | 1. **경량성:** XML에 비해 간결하고 파일 크기가 작아 전송 속도가 빠릅니다. |
| | 2. **호환성:** 대부분의 프로그래밍 언어(Python, Java, C\#, PHP 등)에서 기본적으로 파싱을 지원합니다. |
| | 3. **가독성:** 구조가 단순하고 사람이 읽기 쉬워 디버깅에 유리합니다. |
| **주요 활용** | 클라이언트와 서버 간 데이터 전송 (API), 설정 파일 (IaC, Docker), NoSQL 데이터베이스 저장 등. |

-----

## 2\. 📝 JSON의 기본 문법 (Syntax)

JSON 데이터는 \*\*'키(Key)'\*\*와 **'값(Value)'** 쌍으로 구성되며, 기본적으로 \*\*객체(Object)\*\*와 **배열(Array)** 두 가지 구조를 사용합니다.

### 2.1. 기본 규칙

1.  **키 (Key):** 반드시 **큰따옴표**(`""`)로 묶어야 합니다. (문자열만 가능)
2.  **값 (Value):** 문자열, 숫자, 불리언(`true`, `false`), `null`, 객체(`{}`), 배열(`[]`) 중 하나가 될 수 있습니다.
3.  **구분:** 키와 값은 **콜론**(`:`)으로 구분하며, 키-값 쌍은 **쉼표** (`,`)로 구분합니다.

### 2.2. 핵심 구조

| 구조 | 설명 | 예시 |
| :--- | :--- | :--- |
| **객체 (Object)** | **중괄호**(`{}`)로 묶으며, 순서가 없는 키-값 쌍의 집합입니다. | `{"name": "Alice", "age": 30}` |
| **배열 (Array)** | **대괄호**(`[]`)로 묶으며, 순서가 있는 값의 목록입니다. | `["Python", "AI", "DB"]` |

### 💡 자주 오해하거나 실수하는 부분

  * **따옴표:** JSON의 **키와 문자열 값**은 반드시 **큰따옴표**(`"`)를 사용해야 합니다. 작은따옴표(`'`)는 오류를 발생시킵니다.
  * **Trailing Comma:** 객체나 배열의 마지막 요소 뒤에는 쉼표(`,`)를 넣으면 안 됩니다. (예: `{ "a": 1, "b": 2, }` - **오류**)

JSON의 기본 문법은 매우 간결하지만, 실제 사용 시 구문 분석 오류(Parsing Error)를 피하기 위해 주의해야 할 몇 가지 세부 규칙과 제약 사항이 있습니다.

말씀하신 **블록, 띄어쓰기, 탭** 등의 서식 규칙과 **예약어**에 대해 더 자세히 설명해 드립니다.

-----

## 1\. ⚙️ JSON의 구조화 및 서식 규칙

JSON은 기본적으로 **데이터 전송**을 목적으로 하므로, 서식(Formatting)보다는 **데이터 내용**의 정확성을 우선합니다.

### A. 공백 및 서식 (Whitespace)

  * **규칙:** JSON에서 **공백(Space), 탭(Tab), 새 줄(Newline)** 등의 화이트스페이스(Whitespace)는 **키와 값 사이** 또는 **객체/배열 요소 사이**를 구분하기 위해서만 사용됩니다.
  * **효용:** 데이터의 **가독성**을 높이는 목적으로 자유롭게 사용할 수 있지만, **데이터의 의미**에 영향을 주지는 않습니다.
  * **실전 팁:**
      * 배포 환경에서 **전송 속도**를 높이기 위해 모든 공백을 제거한 **압축된(Minified)** JSON 형태를 사용합니다.
      * 개발 및 디버깅 시에는 \*\*들여쓰기(Indentation, 탭이나 공백)\*\*를 사용하여 구조를 명확히 하는 **Pretty-Print** 형식을 사용합니다.

<!-- end list -->

```json
// 압축된 JSON (Minified)
{"a":1,"b":[2,3]} 

// 가독성을 위한 JSON (Pretty-Print)
{
  "a": 1,
  "b": [
    2,
    3
  ]
}
```

### B. 블록의 시작과 끝

| 구조 | 시작 문자 | 끝 문자 | 용도 |
| :--- | :--- | :--- | :--- |
| **객체 (Object)** | `{` (여는 중괄호) | `}` (닫는 중괄호) | 키-값 쌍의 집합을 나타내는 **블록**의 시작과 끝입니다. |
| **배열 (Array)** | `[` (여는 대괄호) | `]` (닫는 대괄호) | 값들의 목록을 나타내는 **블록**의 시작과 끝입니다. |

> **주의:** JSON 파일 전체는 반드시 **단 하나의 객체 `{}`** 또는 \*\*단 하나의 배열 `[]`\*\*로 시작하고 끝나야 합니다. (파일 내에 여러 개의 독립적인 JSON 객체를 연속해서 나열할 수 없습니다.)

-----

## 2\. 📛 JSON 문법상 더 주의해야 할 점

### A. 주석 (Comments) 사용 금지

  * **규칙:** JSON 표준(RFC 8259)은 \*\*주석(Comments)\*\*을 지원하지 않습니다. C 스타일의 `//`나 `/**/` 주석을 사용하면 구문 오류가 발생합니다.
  * **대안:** 설명을 추가해야 할 경우, 데이터 내에 `"_comment": "이것은 설명입니다"`와 같이 **새로운 키-값 쌍**을 추가하여 처리합니다.

### B. 문자열 인코딩 및 이스케이프 (Escaping)

  * **규칙:** JSON 파일은 일반적으로 **UTF-8** 인코딩을 사용합니다.
  * **이스케이프:** 문자열 값 내부에 **큰따옴표**(`"`)나 **역슬래시**(`\`)를 포함하려면 반드시 앞에 역슬래시를 붙여 **이스케이프**해야 합니다. (예: `"경로": "C:\\Users\\Data"`).

### C. 데이터 타입의 제한

  * **함수 금지:** JSON 값에는 \*\*실행 가능한 코드(함수)\*\*나 **날짜(Date)** 객체 등을 포함할 수 없습니다. 날짜는 반드시 **문자열** 형식으로 저장해야 합니다.
  * **`undefined` 금지:** JavaScript에는 `undefined`가 있지만, JSON에서는 \*\*`null`\*\*만 유효한 값으로 인정됩니다.

-----

## 3\. 🔑 JSON의 예약어 (Reserved Keywords)

JSON은 JavaScript의 객체 리터럴 문법을 기반으로 하지만, **JSON 자체의 유효한 값**으로 인정되는 **리터럴 예약어**는 단 세 가지뿐입니다.

| 예약어 | 타입 | 설명 |
| :--- | :--- | :--- |
| **`true`** | 불리언 (Boolean) | 참을 나타내는 값. (반드시 소문자) |
| **`false`** | 불리언 (Boolean) | 거짓을 나타내는 값. (반드시 소문자) |
| **`null`** | Null | 값이 없음을 나타내는 값. (반드시 소문자) |

> **주의:** 이 세 가지 예약어는 **큰따옴표로 묶으면 안 됩니다.** 큰따옴표로 묶으면 JSON은 이를 예약어가 아닌 일반적인 **문자열 값**으로 인식합니다.

| 올바른 사용 | 잘못된 사용 (문자열로 처리됨) |
| :--- | :--- |
| `"isActive": **true**` | `"isActive": **"true"**` |
| `"data": **null**` | `"data": **"null"**` |

-----

## 3\. 🌐 활용 분야별 JSON 사용 예제

JSON은 설정 및 데이터 정의가 필요한 모든 IT 분야에서 광범위하게 사용됩니다.

### A. 웹 개발 (API 데이터 전송)

웹 브라우저(클라이언트)가 서버에 데이터를 요청하고 응답받을 때 사용되는 표준 형식입니다.

```json
{
  "status": "success",
  "data": {
    "userId": "jason_expert",
    "name": "홍길동",
    "skills": ["Python", "JavaScript", "SQL"],
    "projects": [
      {
        "id": 101,
        "title": "API 개발 프로젝트"
      },
      {
        "id": 102,
        "title": "데이터 분석 대시보드"
      }
    ]
  },
  "timestamp": "2025-11-24T05:00:00Z"
}
```

### B. IaC (Infrastructure as Code) - Terraform

Terraform을 비롯한 IaC 도구들은 설정 파일로 HCL(HashiCorp Configuration Language)을 주로 사용하지만, **변수 값 정의**나 **외부 데이터 참조** 시 JSON을 사용합니다.

#### **Terraform 변수 정의 파일 (`terraform.tfvars.json`)**

```json
{
  "region": "ap-northeast-2",
  "instance_type": "t2.micro",
  "tags": {
    "Name": "Web-Server-Demo",
    "Environment": "Dev"
  },
  "vpc_cidr_block": "10.0.0.0/16"
}
```

### C. 컨테이너 오케스트레이션 (Docker/Kubernetes)

#### **Docker - `Dockerfile` 환경 설정**

`Dockerfile`에서 `CMD`나 `ENTRYPOINT`를 정의할 때 JSON 배열 형식을 사용하여 명령과 인수를 명확히 분리합니다.

```dockerfile
# Dockerfile 내에서 JSON 배열 사용 예
CMD ["nginx", "-g", "daemon off;"]
```

#### **Kubernetes (K8s) - 리소스 정의 (YAML 주 사용)**

K8s는 YAML(YAML Ain't Markup Language)을 주로 사용하지만, YAML은 JSON의 \*\*상위 집합(Superset)\*\*이므로 JSON 문법으로도 리소스를 정의하고 API 서버에 전송할 수 있습니다.

#### **K8s Deployment 정의 (JSON 형식)**

```json
{
  "apiVersion": "apps/v1",
  "kind": "Deployment",
  "metadata": {
    "name": "my-nginx-deployment"
  },
  "spec": {
    "replicas": 3,
    "selector": {
      "matchLabels": {
        "app": "nginx"
      }
    },
    "template": {
      "metadata": {
        "labels": {
          "app": "nginx"
        }
      },
      "spec": {
        "containers": [
          {
            "name": "nginx",
            "image": "nginx:latest",
            "ports": [
              {
                "containerPort": 80
              }
            ]
          }
        ]
      }
    }
  }
}
```

### D. 데이터베이스 및 NoSQL

NoSQL 데이터베이스(예: **MongoDB**)는 데이터를 JSON과 거의 동일한 형태인 **BSON (Binary JSON)** 형식으로 저장합니다.

#### **MongoDB 문서 저장 예제**

```json
{
  "_id": "6561f307a828e1001c90299f",
  "title": "보안 패치 2025-11",
  "severity": "High",
  "affected_systems": [
    {
      "systemName": "Web Server A",
      "version": "1.2.5"
    },
    {
      "systemName": "DB Server B",
      "version": "3.0.1"
    }
  ],
  "patchDate": {
    "$date": "2025-11-24T05:00:00Z"
  }
}
```

> 출처: RFC 8259 (The JavaScript Object Notation (JSON) Data Interchange Format)
